---
import Section from './Section.astro';

interface Props {
  title: string;
  subtitle?: string;
  description?: string;
  ctaText?: string;
  ctaLink?: string;
  image?: string;
  imageAlt?: string;
}

const {
  title,
  subtitle,
  description,
  ctaText = 'Demander un diagnostic',
  ctaLink = '/contact?type=diagnostic',
  image,
  imageAlt = 'Illustration',
} = Astro.props;
---

<Section id="home">
  <div
    class="grid grid-cols-1 grid-template md:grid-cols-2 md:grid-rows-1 mt-[135px]"
  >
    <div class="flex flex-col w-full lg:w-[66.5%]">
      <h1>{title}</h1>
      {subtitle && (
        <p class="text-xl mt-2 text-black opacity-80">{subtitle}</p>
      )}
    </div>
    {image && (
      <picture class="row-span-1 md:row-span-3 flex items-center justify-center md:justify-end">
        <img src={image} alt={imageAlt} class="w-full max-w-md md:max-w-lg lg:max-w-xl" loading="eager" />
      </picture>
    )}
    <div class="w-full lg:w-[66.5%]">
      {description && (
        <p class="my-[35px]">
          {description}
        </p>
      )}
      <a
        href={ctaLink}
        class="btn-primary w-full md:w-auto inline-block text-center"
        data-track="cta_diagnostic"
      >
        {ctaText}
      </a>
    </div>
  </div>
</Section>

<style>
  .grid-template {
    grid-template-rows: auto 1fr;
  }
  
  @media (max-width: 768px) {
    .mt-\[135px\] {
      margin-top: 180px;
    }
  }
</style>
